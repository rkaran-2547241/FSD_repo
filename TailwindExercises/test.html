<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <main>
<iframe width="425" height="350" src="https://www.openstreetmap.org/export/embed.html?bbox=77.56407737731935%2C12.919241206343573%2C77.61926651000978%2C12.947474179333993&amp;layer=mapnik&amp;marker=12.933358092189604%2C77.59167194366455" style="border: 1px solid black"></iframe><br/><small><a href="https://www.openstreetmap.org/?mlat=12.93336&amp;mlon=77.59167#map=15/12.93336/77.59167">View Larger Map</a></small>
   <p>lat: <span id ='latitude'></span></p>
   <p>long: <span id ='longitude'></span></p>
   <p>time: <span id='timestamp'></span></p>
   <div id = "error"></div>
</main>

<script>
window.onload = function(){
    if(navigator.geolocation){
        navigator.geolocation.getCurrentPosition(getPositions,showError);
    }else{
        console.long("browser doesn't support geolocation")
    }
    function getPositions(position){
        document.getElementById("latitude").innerText = position.coords.latitude
        document.getElementById("longitude").innerText = position.coords.latitude
        document.getElementById("timestamp").innerText = new Date(position.timestamp)
    }
    }

    function showError(error){
            let msg="";
            switch(error.code){
                case error.PERMISSION_DENIED:
                    msg="User Denied Permission";
                    break;
                case error.POSITION_UNAVAILABLE:
                    msg="Not able to fetch the user position";
                    break;
                case error.TIMEOUT:
                    msg="Time out";
                    break;
                case error.UNKNOWN_ERROR:
                    msg="Unknown Error";
                    break;
            }
            displayError(msg)
        }

        function displayError(msg){
            document.getElementById("error").innerText=msg;
        }
</script>

</body>
</html>